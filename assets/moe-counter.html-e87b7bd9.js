import{_ as o,Y as a,Z as r,$ as n,a0 as e,a1 as s,a2 as l,F as p}from"./framework-d955655f.js";const c={},i={href:"https://github.com/journey-ad/Moe-Counter",target:"_blank",rel:"noopener noreferrer"},u=n("h2",{id:"_1-直接使用",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-直接使用","aria-hidden":"true"},"#"),e(" 1. 直接使用")],-1),d={href:"https://count.getloli.com/",target:"_blank",rel:"noopener noreferrer"},h=n("h2",{id:"_2-自定义",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-自定义","aria-hidden":"true"},"#"),e(" 2. 自定义")],-1),_=n("p",null,"若不想部署在自己的服务器上，可以选择免费的云服务。",-1),k=n("h3",{id:"_2-1-replit-部署",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-1-replit-部署","aria-hidden":"true"},"#"),e(" 2.1 Replit 部署")],-1),m={href:"https://replit.com/@journeyad/Moe-Counter",target:"_blank",rel:"noopener noreferrer"},g={href:"https://www.mongodb.com/",target:"_blank",rel:"noopener noreferrer"},f=n("ul",null,[n("li",null,[n("code",null,"NetworkAccess"),e(": ip 地址填写 "),n("code",null,"0.0.0.0/0"),e(" 允许所有 IP")]),n("li",null,[n("code",null,"Database"),e(": 点击 "),n("code",null,"connect->driver"),e("，获取链接地址 "),n("code",null,"mongodb+srv://username:<password>@cluster0.rn2vq7x.mongodb.net/?retryWrites=true&w=majority")])],-1),b=n("code",null,"tools->secret",-1),v={href:"https://docs.replit.com/programming-ide/storing-sensitive-information-environment-variables",target:"_blank",rel:"noopener noreferrer"},w={href:"https://uptimerobot.com/",target:"_blank",rel:"noopener noreferrer"},x=n("ul",null,[n("li",null,[n("s",null,[e("注册后点击 "),n("code",null,"Create monitor"),e("，选择 "),n("code",null,"https"),e("方式，频率选择每五分钟。")])]),n("li",null,"已失效")],-1),j=n("li",null,"访问 Replit 项目地址，获取计数器图片地址。",-1),y=l('<p><strong>Remark</strong></p><p>作者分享的 replit 代码 site 参数固定了。需要稍作修改：</p><ul><li><p><code>index.js</code>，将<code>app.get</code> 段修改为：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> site <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SITE</span> <span class="token operator">||</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span>protocol<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>req<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;host&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> site <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>view/index.pug</code>, 将所有<code>https://count.getloli.com/</code> 替换为 <code>#{site}</code></p></li><li><p>在 Replit 的 secret 中添加变量 <code>SITE</code></p></li></ul><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference" aria-hidden="true">#</a> Reference</h2>',4),C={href:"https://github.com/stevenjoezhang/live2d-widget",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/cmdwm/glitch247",target:"_blank",rel:"noopener noreferrer"},E={href:"https://www.mongodb.com/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://replit.com/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://uptimerobot.com/",target:"_blank",rel:"noopener noreferrer"};function q(M,V){const t=p("ExternalLinkIcon");return a(),r("div",null,[n("p",null,[e("原项目地址："),n("a",i,[e("journey-ad/Moe-Counter"),s(t)])]),u,n("p",null,[e("访问 "),n("a",d,[e("https://count.getloli.com"),s(t)]),e("，获取自己的计数器图片地址即可。")]),h,_,k,n("ul",null,[n("li",null,[e("打开原作者的 "),n("a",m,[e("https://replit.com/@journeyad/Moe-Counter"),s(t)]),e(" 项目并 fork 到自己的账户下。")]),n("li",null,[n("a",g,[e("https://www.mongodb.com/"),s(t)]),e(" 注册并获取免费的 mongodb, 进入 Dashboard "),f]),n("li",null,[e("在 Replit 项目界面，点击 "),b,e(" 配置环境变量, 详见"),n("a",v,[e("documentation"),s(t)])]),n("li",null,[n("s",null,[e("免费账户会在5分钟后自动休眠。这里使用 "),n("a",w,[e("Uptimebot"),s(t)]),e(" 服务保持唤醒:")]),x]),j]),y,n("ol",null,[n("li",null,[n("a",C,[e("stevenjoezhang/live2d-widget/"),s(t)]),e(" Github repo")]),n("li",null,[n("a",R,[e("glitch247"),s(t)]),e(" Github Repo")]),n("li",null,[n("a",E,[e("mongodb"),s(t)])]),n("li",null,[n("a",I,[e("replit"),s(t)])]),n("li",null,[n("a",N,[e("Uptimebot"),s(t)])])])])}const S=o(c,[["render",q],["__file","moe-counter.html.vue"]]);export{S as default};
