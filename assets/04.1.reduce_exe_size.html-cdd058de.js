const n=JSON.parse('{"key":"v-f23db260","path":"/reading/golang/high-performance-go/04-compile/04.1.reduce_exe_size.html","title":"4.1 减小编译后的可执行文件体积","lang":"zh-CN","frontmatter":{"title":"4.1 减小编译后的可执行文件体积","date":"2023-10-05T00:00:00.000Z","category":["golang"]},"headers":[{"level":2,"title":"1. 直接编译","slug":"_1-直接编译","link":"#_1-直接编译","children":[{"level":3,"title":"1.1 编译选项","slug":"_1-1-编译选项","link":"#_1-1-编译选项","children":[]}]},{"level":2,"title":"2. 使用工具 UPX","slug":"_2-使用工具-upx","link":"#_2-使用工具-upx","children":[{"level":3,"title":"2.1 UPX","slug":"_2-1-upx","link":"#_2-1-upx","children":[]},{"level":3,"title":"2.2 直接使用","slug":"_2-2-直接使用","link":"#_2-2-直接使用","children":[]},{"level":3,"title":"2.3 组合 upx 和 编译选项","slug":"_2-3-组合-upx-和-编译选项","link":"#_2-3-组合-upx-和-编译选项","children":[]},{"level":3,"title":"2.4 UPX 原理","slug":"_2-4-upx-原理","link":"#_2-4-upx-原理","children":[]}]},{"level":2,"title":"Reference","slug":"reference","link":"#reference","children":[]}],"readingTime":{"minutes":2.17,"words":652},"filePathRelative":"reading/golang/high-performance-go/04-compile/04.1.reduce_exe_size.md","localizedDate":"2023年10月5日","excerpt":"<h2> 1. 直接编译</h2>\\n<div class=\\"language-go line-numbers-mode\\" data-ext=\\"go\\"><pre class=\\"language-go\\"><code><span class=\\"token keyword\\">type</span> Result <span class=\\"token keyword\\">struct</span> <span class=\\"token punctuation\\">{</span>\\n\\tNum<span class=\\"token punctuation\\">,</span> Ans <span class=\\"token builtin\\">int</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">type</span> Calc <span class=\\"token builtin\\">int</span>\\n\\n<span class=\\"token comment\\">// Square calculates the square of num</span>\\n<span class=\\"token keyword\\">func</span> <span class=\\"token punctuation\\">(</span>calc <span class=\\"token operator\\">*</span>Calc<span class=\\"token punctuation\\">)</span> <span class=\\"token function\\">Square</span><span class=\\"token punctuation\\">(</span>num <span class=\\"token builtin\\">int</span><span class=\\"token punctuation\\">,</span> result <span class=\\"token operator\\">*</span>Result<span class=\\"token punctuation\\">)</span> <span class=\\"token builtin\\">error</span> <span class=\\"token punctuation\\">{</span>\\n\\tresult<span class=\\"token punctuation\\">.</span>Num <span class=\\"token operator\\">=</span> num\\n\\tresult<span class=\\"token punctuation\\">.</span>Ans <span class=\\"token operator\\">=</span> num <span class=\\"token operator\\">*</span> num\\n\\t<span class=\\"token keyword\\">return</span> <span class=\\"token boolean\\">nil</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">func</span> <span class=\\"token function\\">main</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n\\trpc<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Register</span><span class=\\"token punctuation\\">(</span><span class=\\"token function\\">new</span><span class=\\"token punctuation\\">(</span>Calc<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span>\\n\\trpc<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">HandleHTTP</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n\\n\\tlog<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Printf</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"Serving RPC server on port %d\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">1234</span><span class=\\"token punctuation\\">)</span>\\n\\t<span class=\\"token keyword\\">if</span> err <span class=\\"token operator\\">:=</span> http<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">ListenAndServe</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\":1234\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token boolean\\">nil</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span> err <span class=\\"token operator\\">!=</span> <span class=\\"token boolean\\">nil</span> <span class=\\"token punctuation\\">{</span>\\n\\t\\tlog<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">Fatal</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"Error serving: \\"</span><span class=\\"token punctuation\\">,</span> err<span class=\\"token punctuation\\">)</span>\\n\\t<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{n as data};
