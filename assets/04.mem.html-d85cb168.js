const e=JSON.parse('{"key":"v-53a8cada","path":"/interview/redis/04.mem.html","title":"Redis 内存管理","lang":"zh-CN","frontmatter":{"title":"Redis 内存管理"},"headers":[{"level":2,"title":"1. 过期删除","slug":"_1-过期删除","link":"#_1-过期删除","children":[{"level":3,"title":"删除策略","slug":"删除策略","link":"#删除策略","children":[]}]},{"level":2,"title":"2. 内存淘汰","slug":"_2-内存淘汰","link":"#_2-内存淘汰","children":[{"level":3,"title":"查看当前淘汰策略","slug":"查看当前淘汰策略","link":"#查看当前淘汰策略","children":[]},{"level":3,"title":"LRU","slug":"lru","link":"#lru","children":[]},{"level":3,"title":"Redis 中的近似 LRU","slug":"redis-中的近似-lru","link":"#redis-中的近似-lru","children":[]},{"level":3,"title":"LFU","slug":"lfu","link":"#lfu","children":[]},{"level":3,"title":"Redis 中的 LFU","slug":"redis-中的-lfu","link":"#redis-中的-lfu","children":[]},{"level":3,"title":"小结","slug":"小结","link":"#小结","children":[]}]}],"readingTime":{"minutes":12.09,"words":3627},"filePathRelative":"interview/redis/04.mem.md","excerpt":"<h2> 1. 过期删除</h2>\\n<p>每当我们对一个 key 设置了过期时间时，Redis 会把该 key 带上过期时间存储到一个<strong>过期字典</strong>（expires dict）中，也就是说「过期字典」保存了数据库中所有 key 的过期时间。</p>\\n<p>过期字典存储在 redisDb 结构中，如下：</p>\\n<div class=\\"language-c line-numbers-mode\\" data-ext=\\"c\\"><pre class=\\"language-c\\"><code><span class=\\"token keyword\\">typedef</span> <span class=\\"token keyword\\">struct</span> <span class=\\"token class-name\\">redisDb</span> <span class=\\"token punctuation\\">{</span>\\n    dict <span class=\\"token operator\\">*</span>dict<span class=\\"token punctuation\\">;</span>    <span class=\\"token comment\\">/* 数据库键空间，存放着所有的键值对 */</span>\\n    dict <span class=\\"token operator\\">*</span>expires<span class=\\"token punctuation\\">;</span> <span class=\\"token comment\\">/* 键的过期时间 */</span>\\n    <span class=\\"token punctuation\\">.</span><span class=\\"token punctuation\\">.</span><span class=\\"token punctuation\\">.</span><span class=\\"token punctuation\\">.</span>\\n<span class=\\"token punctuation\\">}</span> redisDb<span class=\\"token punctuation\\">;</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{e as data};
