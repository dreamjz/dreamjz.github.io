<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Overview | 今朝のブログ</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
    <link rel="shortcut icon" herf="favicon.ico">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-3RQ3LRSTKM"></script>
    <script>window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
		  
			gtag('config', 'G-3RQ3LRSTKM');</script>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="google-site-verification" content="lHBWOiWCnBWvc1h4REqjllalv9ZpQbXbHDdM8chFuuw">
    
    <link rel="preload" href="/assets/css/0.styles.6a6b0998.css" as="style"><link rel="preload" href="/assets/js/app.a394ef45.js" as="script"><link rel="preload" href="/assets/js/6.5e9ba2d7.js" as="script"><link rel="preload" href="/assets/js/1.3bdf79e4.js" as="script"><link rel="preload" href="/assets/js/55.21b101da.js" as="script"><link rel="prefetch" href="/assets/js/10.2a2190a2.js"><link rel="prefetch" href="/assets/js/100.76e49a15.js"><link rel="prefetch" href="/assets/js/101.bb80df34.js"><link rel="prefetch" href="/assets/js/102.1e2c6ab4.js"><link rel="prefetch" href="/assets/js/103.2c9a24f6.js"><link rel="prefetch" href="/assets/js/104.78fa10c3.js"><link rel="prefetch" href="/assets/js/105.7759ca74.js"><link rel="prefetch" href="/assets/js/106.13a8bb4b.js"><link rel="prefetch" href="/assets/js/107.9e03cc30.js"><link rel="prefetch" href="/assets/js/108.f9d332cf.js"><link rel="prefetch" href="/assets/js/109.e1898c75.js"><link rel="prefetch" href="/assets/js/11.2a5698d4.js"><link rel="prefetch" href="/assets/js/110.c8c6b7fc.js"><link rel="prefetch" href="/assets/js/111.d32ac746.js"><link rel="prefetch" href="/assets/js/112.e930bec5.js"><link rel="prefetch" href="/assets/js/113.941c15c7.js"><link rel="prefetch" href="/assets/js/114.30f042cd.js"><link rel="prefetch" href="/assets/js/115.926ed29a.js"><link rel="prefetch" href="/assets/js/116.f52770f8.js"><link rel="prefetch" href="/assets/js/117.04ab2ef1.js"><link rel="prefetch" href="/assets/js/118.004872f6.js"><link rel="prefetch" href="/assets/js/119.ba2fa5c5.js"><link rel="prefetch" href="/assets/js/12.fce9e81e.js"><link rel="prefetch" href="/assets/js/120.43cd7690.js"><link rel="prefetch" href="/assets/js/121.db4821de.js"><link rel="prefetch" href="/assets/js/122.1171a1f9.js"><link rel="prefetch" href="/assets/js/123.f23f3bc5.js"><link rel="prefetch" href="/assets/js/124.4a0479eb.js"><link rel="prefetch" href="/assets/js/125.a1fd755e.js"><link rel="prefetch" href="/assets/js/126.11627dcf.js"><link rel="prefetch" href="/assets/js/127.dc87003c.js"><link rel="prefetch" href="/assets/js/128.bfbeeffc.js"><link rel="prefetch" href="/assets/js/129.1a53196e.js"><link rel="prefetch" href="/assets/js/13.8c195441.js"><link rel="prefetch" href="/assets/js/130.73e82293.js"><link rel="prefetch" href="/assets/js/14.e578a815.js"><link rel="prefetch" href="/assets/js/15.9b25eeea.js"><link rel="prefetch" href="/assets/js/16.9c83bcf7.js"><link rel="prefetch" href="/assets/js/17.4ecbd1af.js"><link rel="prefetch" href="/assets/js/18.38190dde.js"><link rel="prefetch" href="/assets/js/19.1cc66f2e.js"><link rel="prefetch" href="/assets/js/2.f099030c.js"><link rel="prefetch" href="/assets/js/20.42dfd197.js"><link rel="prefetch" href="/assets/js/21.bb9d9c17.js"><link rel="prefetch" href="/assets/js/22.8ac0cafd.js"><link rel="prefetch" href="/assets/js/23.af550181.js"><link rel="prefetch" href="/assets/js/24.90cb3107.js"><link rel="prefetch" href="/assets/js/25.0a72d440.js"><link rel="prefetch" href="/assets/js/26.2e28937c.js"><link rel="prefetch" href="/assets/js/27.e3e520a3.js"><link rel="prefetch" href="/assets/js/28.c31abde8.js"><link rel="prefetch" href="/assets/js/29.dc215f3b.js"><link rel="prefetch" href="/assets/js/30.6afc117c.js"><link rel="prefetch" href="/assets/js/31.f78599d6.js"><link rel="prefetch" href="/assets/js/32.43a5a5a9.js"><link rel="prefetch" href="/assets/js/33.f50691a4.js"><link rel="prefetch" href="/assets/js/34.557c5c5e.js"><link rel="prefetch" href="/assets/js/35.88462720.js"><link rel="prefetch" href="/assets/js/36.cdf7f701.js"><link rel="prefetch" href="/assets/js/37.ed981022.js"><link rel="prefetch" href="/assets/js/38.c72d76b6.js"><link rel="prefetch" href="/assets/js/39.8111ec1c.js"><link rel="prefetch" href="/assets/js/40.67be7b4b.js"><link rel="prefetch" href="/assets/js/41.cc025150.js"><link rel="prefetch" href="/assets/js/42.4e311271.js"><link rel="prefetch" href="/assets/js/43.278cb9e1.js"><link rel="prefetch" href="/assets/js/44.c73c64af.js"><link rel="prefetch" href="/assets/js/45.8b598f51.js"><link rel="prefetch" href="/assets/js/46.374511f3.js"><link rel="prefetch" href="/assets/js/47.6cd7462d.js"><link rel="prefetch" href="/assets/js/48.e8decfca.js"><link rel="prefetch" href="/assets/js/49.8d3c0864.js"><link rel="prefetch" href="/assets/js/5.e14e72c8.js"><link rel="prefetch" href="/assets/js/50.346c2fc2.js"><link rel="prefetch" href="/assets/js/51.d2e83241.js"><link rel="prefetch" href="/assets/js/52.80262f33.js"><link rel="prefetch" href="/assets/js/53.9962ee30.js"><link rel="prefetch" href="/assets/js/54.f079500f.js"><link rel="prefetch" href="/assets/js/56.d2708527.js"><link rel="prefetch" href="/assets/js/57.8ccab33f.js"><link rel="prefetch" href="/assets/js/58.1091f766.js"><link rel="prefetch" href="/assets/js/59.7e19c283.js"><link rel="prefetch" href="/assets/js/60.eb1deb36.js"><link rel="prefetch" href="/assets/js/61.75a6194a.js"><link rel="prefetch" href="/assets/js/62.be68573e.js"><link rel="prefetch" href="/assets/js/63.bff3bffb.js"><link rel="prefetch" href="/assets/js/64.262adb8f.js"><link rel="prefetch" href="/assets/js/65.61984151.js"><link rel="prefetch" href="/assets/js/66.949601ac.js"><link rel="prefetch" href="/assets/js/67.6901aa36.js"><link rel="prefetch" href="/assets/js/68.82780c62.js"><link rel="prefetch" href="/assets/js/69.84f1c675.js"><link rel="prefetch" href="/assets/js/7.0cb9a5e1.js"><link rel="prefetch" href="/assets/js/70.2931b3b6.js"><link rel="prefetch" href="/assets/js/71.4d1b2098.js"><link rel="prefetch" href="/assets/js/72.b9729940.js"><link rel="prefetch" href="/assets/js/73.d43d7bee.js"><link rel="prefetch" href="/assets/js/74.410a7162.js"><link rel="prefetch" href="/assets/js/75.51a3da61.js"><link rel="prefetch" href="/assets/js/76.ec3beb95.js"><link rel="prefetch" href="/assets/js/77.50928739.js"><link rel="prefetch" href="/assets/js/78.8877a801.js"><link rel="prefetch" href="/assets/js/79.ced10f14.js"><link rel="prefetch" href="/assets/js/8.fe6eb699.js"><link rel="prefetch" href="/assets/js/80.c324ed89.js"><link rel="prefetch" href="/assets/js/81.34b26bf0.js"><link rel="prefetch" href="/assets/js/82.7cf07293.js"><link rel="prefetch" href="/assets/js/83.ccab0fa4.js"><link rel="prefetch" href="/assets/js/84.aab7c649.js"><link rel="prefetch" href="/assets/js/85.c537a8b7.js"><link rel="prefetch" href="/assets/js/86.01ffcf1d.js"><link rel="prefetch" href="/assets/js/87.d506fa8d.js"><link rel="prefetch" href="/assets/js/88.8217f4e7.js"><link rel="prefetch" href="/assets/js/89.c6a6cc6c.js"><link rel="prefetch" href="/assets/js/9.d45c7d5a.js"><link rel="prefetch" href="/assets/js/90.d8df6c16.js"><link rel="prefetch" href="/assets/js/91.78e9d75e.js"><link rel="prefetch" href="/assets/js/92.96d8b2e8.js"><link rel="prefetch" href="/assets/js/93.ae739ea9.js"><link rel="prefetch" href="/assets/js/94.676f1b07.js"><link rel="prefetch" href="/assets/js/95.df623cd3.js"><link rel="prefetch" href="/assets/js/96.9a85ac20.js"><link rel="prefetch" href="/assets/js/97.2a658551.js"><link rel="prefetch" href="/assets/js/98.6fdb9901.js"><link rel="prefetch" href="/assets/js/99.9d502378.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.027d5845.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6a6b0998.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-0f44a727><div data-v-0f44a727><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-0f44a727 data-v-0f44a727><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-355e03f9 data-v-0f44a727 data-v-0f44a727><h3 class="title" data-v-355e03f9 data-v-355e03f9>今朝のブログ</h3> <p class="description" data-v-355e03f9 data-v-355e03f9></p> <label id="box" class="inputBox" data-v-355e03f9 data-v-355e03f9><input type="password" value="" data-v-355e03f9> <span data-v-355e03f9>Konck! Knock!</span> <button data-v-355e03f9>OK</button></label> <div class="footer" data-v-355e03f9 data-v-355e03f9><span data-v-355e03f9><i class="iconfont reco-theme" data-v-355e03f9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-355e03f9>vuePress-theme-reco</a></span> <span data-v-355e03f9><i class="iconfont reco-copyright" data-v-355e03f9></i> <a data-v-355e03f9><span data-v-355e03f9>今朝</span>
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-0f44a727><header class="navbar" data-v-0f44a727><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/image/hero.jpg" alt="今朝のブログ" class="logo"> <span class="site-name">今朝のブログ</span></a> <div class="links"><!----> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/index.html" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/reading-note/index.html" class="nav-link"><i class="iconfont reco-document"></i>
  Reading Note
</a></div><div class="nav-item"><a href="/lang/index.html" class="nav-link"><i class="iconfont reco-message"></i>
  Language
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/categories/golang/" class="nav-link"><i class="iconfont reco-category"></i>
  Category
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tags
</a></div><div class="nav-item"><a href="/zh/about-me/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><a href="https://github.com/dreamjz" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-0f44a727></div> <aside class="sidebar" data-v-0f44a727><div class="personal-info-wrapper" data-v-5aaeb100 data-v-0f44a727><img src="/image/hero.jpg" alt="author-avatar" class="personal-img" data-v-5aaeb100> <h3 class="name" data-v-5aaeb100>
    今朝
  </h3> <div class="num" data-v-5aaeb100><div data-v-5aaeb100><h3 data-v-5aaeb100>92</h3> <h6 data-v-5aaeb100>文章</h6></div> <div data-v-5aaeb100><h3 data-v-5aaeb100>26</h3> <h6 data-v-5aaeb100>标签</h6></div></div> <ul class="social-links" data-v-5aaeb100></ul> <hr data-v-5aaeb100></div> <nav class="nav-links"><div class="nav-item"><a href="/zh/index.html" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/reading-note/index.html" class="nav-link"><i class="iconfont reco-document"></i>
  Reading Note
</a></div><div class="nav-item"><a href="/lang/index.html" class="nav-link"><i class="iconfont reco-message"></i>
  Language
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/categories/golang/" class="nav-link"><i class="iconfont reco-category"></i>
  Category
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tags
</a></div><div class="nav-item"><a href="/zh/about-me/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><a href="https://github.com/dreamjz" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><a href="/zh/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/zh/indexes.html" class="sidebar-link">Index</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Leet Code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RPC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Docker tutorial</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Docker compose</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/docker/docker-compose/Preface.html" class="sidebar-link">Preface</a></li><li><a href="/zh/docker/docker-compose/01.1.html" aria-current="page" class="active sidebar-link">Overview</a></li><li><a href="/zh/docker/docker-compose/01.2.html" class="sidebar-link">Get Started</a></li><li><a href="/zh/docker/docker-compose/01.3.html" class="sidebar-link">Environment variables in Compose</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Docker practice</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Raspberry Pi</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Front End</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Learning Method</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-355e03f9 data-v-0f44a727><h3 class="title" data-v-355e03f9 data-v-355e03f9>Overview</h3> <!----> <label id="box" class="inputBox" data-v-355e03f9 data-v-355e03f9><input type="password" value="" data-v-355e03f9> <span data-v-355e03f9>Konck! Knock!</span> <button data-v-355e03f9>OK</button></label> <div class="footer" data-v-355e03f9 data-v-355e03f9><span data-v-355e03f9><i class="iconfont reco-theme" data-v-355e03f9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-355e03f9>vuePress-theme-reco</a></span> <span data-v-355e03f9><i class="iconfont reco-copyright" data-v-355e03f9></i> <a data-v-355e03f9><span data-v-355e03f9>今朝</span>
            
          <!---->
          2022
        </a></span></div></div> <div data-v-0f44a727><div id="particles-js" color="#dedede" particleOpacity="0.7" linesColor="#dedede" particlesNumber="80" shapeType="circle" particleSize="4" linesWidth="1" lineLinked="true" lineOpacity="0.4" linesDistance="150" moveSpeed="3" hoverEffect="true" hoverMode="grab" clickEffect="true" clickMode="push" class="bg-particles"></div> <main class="page"><section><div class="page-title"><h1 class="title">Overview</h1> <div data-v-ff1aa866><i class="iconfont reco-account" data-v-ff1aa866><span data-v-ff1aa866>今朝</span></i> <i class="iconfont reco-date" data-v-ff1aa866><span data-v-ff1aa866>2021/12/15</span></i> <!----> <i class="tags iconfont reco-tag" data-v-ff1aa866><span class="tag-item" data-v-ff1aa866>docker compose</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h1> <p>Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application’s service. Then, with a single command, you create and start all service from your configuration.</p> <p>Compose works in all environments: production, staging, development, testing, as well as CI workflows.</p> <h2 id="_1-using-compose"><a href="#_1-using-compose" class="header-anchor">#</a> 1. Using Compose</h2> <p>Using compose is basically a three-step process:</p> <ol><li>Define your app’s environment with a <code>Dockerfile</code> so it can be reproduced anywhere</li> <li>Define the service that make up your app in <code>docker-compose.yml</code> so they can be run together in an isolated environment</li> <li>Run <code>docker compose up</code> and the <code>Docker compose</code> command starts and runs your entire app</li></ol> <p>A <code>docker-compose.yml</code> looks like this :</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>  <span class="token comment"># optional since v1.27.0</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> .
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;5000:5000&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> .<span class="token punctuation">:</span>/code
      <span class="token punctuation">-</span> logvolume01<span class="token punctuation">:</span>/var/log
    <span class="token key atrule">links</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">logvolume01</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Compose has commands for managing the whole lifecycle of your application:</p> <ul><li>Start, stop and rebuild services</li> <li>View the status of the running services</li> <li>Run a one-off command on a service</li></ul> <h2 id="_2-multiple-isolated-environment-on-a-single-host"><a href="#_2-multiple-isolated-environment-on-a-single-host" class="header-anchor">#</a> 2. Multiple isolated environment on a single host</h2> <p>Compose use a project name to isolated environments from each other. You can make use of this project name in several different context:</p> <ul><li>on a dev host, to create multiple copies of a single environment, such as when you want to run a stable copy for each feature branch of a project</li> <li>on a CI server, to keep build from interfering with each other, you can set the project name to a unique build number</li> <li>on a shared host or dev host, to prevent different projects, which may use the same service names, from interfering with each other</li></ul> <p>The default project name is the basename of the project directory. You can set a custom project name by using <code>-p</code> command line option or the <code>COMPOSE_PROJECT_NAME</code> environment variable</p> <p>The default project directory is the base directory of the Compose file. A custom value for it can be defined with the <code>--procjet-directory</code> command line option</p> <h2 id="_3-preserve-volume-data-when-containers-are-created"><a href="#_3-preserve-volume-data-when-containers-are-created" class="header-anchor">#</a> 3. Preserve volume data when containers are created</h2> <p>Compose preserves all volumes used by your services. When <code>docker compose up</code>  runs, if it finds any containers from previous runs, it copies the volumes from the old container to the new container. This process ensures that any data you’ve created in volumes isn’t lost</p> <h2 id="_4-only-recreate-containers-that-have-changed"><a href="#_4-only-recreate-containers-that-have-changed" class="header-anchor">#</a> 4. Only recreate containers that have changed</h2> <p>Compose caches the configuration used to create a container. When you restart a service that not changed, Compose re-uses the existing containers. Re-using containers means that you can make changes to your environment very quickly</p> <h2 id="_5-variables-and-moving-a-composition-between-environments"><a href="#_5-variables-and-moving-a-composition-between-environments" class="header-anchor">#</a> 5. Variables and moving a composition between environments</h2> <p>Compose supports variables in a Compose file. You can use these variables to customize your composition for different environment, of different users</p> <p>You can extend a Compose file using the <code>extends</code> filed or by creating multiple Compose files.</p> <h2 id="_6-common-use-cases"><a href="#_6-common-use-cases" class="header-anchor">#</a> 6. Common use cases</h2> <p>Compose can be used in many different ways. Some common use cases are outlined below</p> <h3 id="_6-1-development-environment"><a href="#_6-1-development-environment" class="header-anchor">#</a> 6.1 Development environment</h3> <p>When you are developing software, the ability to run an isolated environment and interact with it is crucial. The Compose command line tool can be used to create the environment and interact with it</p> <p>The Compose file provides a way to document and configure all of the application’s dependencies (database, queues, caches, web service APIs, etc.). Using the Compose command line tool you can create and start one or more containers for each dependency with a single command <code>docker compose up</code></p> <p>Together, these features provide a convenient way for developers to get started on a project. Compose can reduce a multi-page “developer getting started guide” to a single machine readable Compose file and a few commands</p> <h3 id="_6-2-automated-testing-environments"><a href="#_6-2-automated-testing-environments" class="header-anchor">#</a> 6.2 Automated testing environments</h3> <p>An important part of any Continuous Deployment or Continuous Integration process is the automated test suite. Automated end-to-end testing requires an environment in which to run tests. Compose provides a convenient way to create and destroy isolated testing environments for your testing suite. By defining the full environment in a Compose file, you can create and destroy these environments in just a few commands:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ docker compose up -d
$ ./run_tests
$ docker compose down
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_6-3-single-host-deployments"><a href="#_6-3-single-host-deployments" class="header-anchor">#</a> 6.3 Single host deployments</h3> <p>see <a href="https://docs.docker.com/compose/production/" target="_blank" rel="noopener noreferrer">compose in production<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h2> <ol><li><a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">Overview of Docker Compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2021/12/18 13:10:02</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/zh/docker/docker-compose/Preface.html" class="prev">
            Preface
          </a></span> <span class="next"><a href="/zh/docker/docker-compose/01.2.html">
            Get Started
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-898d6c54><li class="level-2" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_1-using-compose" class="sidebar-link reco-side-_1-using-compose" data-v-898d6c54>1. Using Compose</a></li><li class="level-2" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_2-multiple-isolated-environment-on-a-single-host" class="sidebar-link reco-side-_2-multiple-isolated-environment-on-a-single-host" data-v-898d6c54>2. Multiple isolated environment on a single host</a></li><li class="level-2" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_3-preserve-volume-data-when-containers-are-created" class="sidebar-link reco-side-_3-preserve-volume-data-when-containers-are-created" data-v-898d6c54>3. Preserve volume data when containers are created</a></li><li class="level-2" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_4-only-recreate-containers-that-have-changed" class="sidebar-link reco-side-_4-only-recreate-containers-that-have-changed" data-v-898d6c54>4. Only recreate containers that have changed</a></li><li class="level-2" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_5-variables-and-moving-a-composition-between-environments" class="sidebar-link reco-side-_5-variables-and-moving-a-composition-between-environments" data-v-898d6c54>5. Variables and moving a composition between environments</a></li><li class="level-2" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_6-common-use-cases" class="sidebar-link reco-side-_6-common-use-cases" data-v-898d6c54>6. Common use cases</a></li><li class="level-3" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_6-1-development-environment" class="sidebar-link reco-side-_6-1-development-environment" data-v-898d6c54>6.1 Development environment</a></li><li class="level-3" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_6-2-automated-testing-environments" class="sidebar-link reco-side-_6-2-automated-testing-environments" data-v-898d6c54>6.2 Automated testing environments</a></li><li class="level-3" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#_6-3-single-host-deployments" class="sidebar-link reco-side-_6-3-single-host-deployments" data-v-898d6c54>6.3 Single host deployments</a></li><li class="level-2" data-v-898d6c54><a href="/zh/docker/docker-compose/01.1.html#reference" class="sidebar-link reco-side-reference" data-v-898d6c54>Reference</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas><div></div><div id="goTop" class="hide-cat" data-v-bf92849a></div></div></div>
    <script src="/assets/js/app.a394ef45.js" defer></script><script src="/assets/js/6.5e9ba2d7.js" defer></script><script src="/assets/js/1.3bdf79e4.js" defer></script><script src="/assets/js/55.21b101da.js" defer></script>
  </body>
</html>
